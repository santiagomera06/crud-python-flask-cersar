<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/app.css') }}">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/app.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <title>Tienda </title>
</head>
<body>
    <div class="container w-50" style="margin: 0 auto">
        <h2 class="text-center fw-bold">EDITAR NUEVO PRODUCTO</h2>
        <form action="/editar/{{producto["_id"]}}" enctype="multipart/form-data" method="post" class="was-validated">
            <div class="mt-2">
                <label for="txtCodigo" class="fw-bold">CÃ³digo:</label>
                <input type="number" name="txtCodigo" id="txtCodigo" readonly 
                class="form-control" value="{{producto["codigo"]}}" required>
            </div>
            <div class="mt-2">
                <label for="txtNombre" class="fw-bold">Nombre:</label>
                <input type="text" name="txtNombre" id="txtNombre" 
                class="form-control" value="{{producto["nombre"]}}" required>
            </div>
            <div class="mt-2">
                <label for="txtPrecio" class="fw-bold">Precio:</label>
                <input type="number" name="txtPrecio" id="txtPrecio" 
                class="form-control" value="{{producto["precio"]}}" required>
            </div>
            <div class="mt-2">
                <label for="txtPrecio" class="fw-bold">Categoria:</label>
                <select name="cbCategoria" id="cbCategoria" 
                class="form-select" required>
                <option value="">Seleccione</option>
                <option value="Electrodomestico">Electrodomestico</option>
                <option value="Ropa">Ropa</option>
                <option value="Calzado">Calzado</option>
            </select>
            </div>
            <div class="mt-2">
                <label for="fileFoto" class="fw-bold">Foto:</label>
                <input type="file" name="fileFoto" id="fileFoto" accept="image/png, image/gif, image/jpeg" 
                class="form-control" onchange="mostrarImagen(event)">
            </div>
            <div class="mt-2 text-center">
                <img id="imagenProducto" src="" alt="" width="80" height="80">
            </div>
            <div class="mt-2">
                <button type="submit" class="btn btn-success">Editar</button>
                <a href="/listarProductos"><button type="button" class="btn btn-warning">Cancelar</button></a>
            </div>
        </form>

    </div>

    <script src="../static/js/app.js"></script>

    <script>
        document.getElementById('cbCategoria').value='{{producto["categoria"]}}'
        document.getElementById('imagenProducto').src='../static/imagenes/{{producto["foto"]}}'
    </script>

    {% if mensaje %}
        <script>
            swal.fire("Editar Producto", '{{mensaje}}','info')
        </script>
    {% endif %}
</body>
</html>